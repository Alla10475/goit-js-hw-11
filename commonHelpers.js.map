{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BAZE_URL = 'https://pixabay.com/api';\nconst API_KEY = '41870399-9b44301246ceb98c07efd626a';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  photoListEl: document.querySelector('.photo-list'),\n};\n\n// const searchForm = document.querySelector('.search-form');\n// const ulEl = document.querySelector('.photo-list');\nrefs.searchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const query = form.elements.query.value;\n\n  searchPhoto(query)\n    .then(markupPhoto)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction searchPhoto(value) {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n  \n    \n  const url = `${BAZE_URL}/?${urlParams}`;\n  return fetch(url).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction onFetchError(error) {\n  console.error(error);\n  iziToast.show({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topCenter',\n    color: 'red',\n  });\n}\n\nfunction markupPhoto({ hits }) {\n  const markup = hits\n    .map(\n      hits => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${hits.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${hits.webformatURL}\"\n      data-source=\"${hits.imoriginal}\"\n      alt=\"${hits.tags}\"\n    />\n  </a>\n   <p>Likes: ${hits.likes}</p>\n   <p>Views: ${hits.views}</p>\n   <p>Comment: ${hits.comments}</p>\n   <p>Downloads: ${hits.downloads}</p>\n</li>`\n    )\n    .join('');\n\n  refs.photoListEl.innerHTML = markup;\n}"],"names":["BAZE_URL","API_KEY","refs","handleSearch","event","form","query","searchPhoto","markupPhoto","onFetchError","value","urlParams","url","resp","error","iziToast","hits","markup"],"mappings":"svBAKA,MAAMA,EAAW,0BACXC,EAAU,qCAEVC,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,aAAa,CACnD,EAIAA,EAAK,WAAW,iBAAiB,SAAUC,CAAY,EAEvD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAElCE,EAAYD,CAAK,EACd,KAAKE,CAAW,EAChB,MAAMC,CAAY,EAClB,QAAQ,IAAMJ,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASE,EAAYG,EAAO,CAC1B,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKV,EACL,EAAGS,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EAGKE,EAAM,GAAGZ,MAAaW,IAC5B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAQ,CAC7B,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAGjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASJ,EAAaK,EAAO,CAC3B,QAAQ,MAAMA,CAAK,EACnBC,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,YACV,MAAO,KACX,CAAG,CACH,CAEA,SAASP,EAAY,CAAE,KAAAQ,GAAQ,CAC7B,MAAMC,EAASD,EACZ,IACCA,GAAQ;AAAA,kCACoBA,EAAK;AAAA;AAAA;AAAA,aAG1BA,EAAK;AAAA,qBACGA,EAAK;AAAA,aACbA,EAAK;AAAA;AAAA;AAAA,eAGHA,EAAK;AAAA,eACLA,EAAK;AAAA,iBACHA,EAAK;AAAA,mBACHA,EAAK;AAAA,MAEnB,EACA,KAAK,EAAE,EAEVd,EAAK,YAAY,UAAYe,CAC/B"}